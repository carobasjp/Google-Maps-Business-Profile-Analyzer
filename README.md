# üéØ Google Maps Business Profile Analyzer & Ranking Tool

Sistema **ultra profissional** para an√°lise de for√ßa de perfil e ranqueamento local no Google Maps. Ferramenta completa para SEO local, an√°lise competitiva e otimiza√ß√£o de presen√ßa online.

---

## üìã √çndice

- [Caracter√≠sticas](#-caracter√≠sticas)
- [Instala√ß√£o](#-instala√ß√£o)
- [Configura√ß√£o](#-configura√ß√£o)
- [Uso B√°sico](#-uso-b√°sico)
- [Uso Avan√ßado](#-uso-avan√ßado)
- [M√©tricas e Scores](#-m√©tricas-e-scores)
- [Relat√≥rios Gerados](#-relat√≥rios-gerados)
- [Exemplos Pr√°ticos](#-exemplos-pr√°ticos)
- [FAQ](#-faq)
- [Suporte](#-suporte)

---

## üöÄ Caracter√≠sticas

### An√°lise Multidimensional
- ‚úÖ **Rating Quality Score** - Qualidade das avalia√ß√µes ponderada por volume
- ‚úÖ **Review Velocity Score** - Velocidade de aquisi√ß√£o de novos reviews
- ‚úÖ **Completeness Score** - Completude do perfil (fotos, hor√°rios, contato, etc.)
- ‚úÖ **Authority Score** - Autoridade do neg√≥cio no mercado
- ‚úÖ **Prominence Score** - Proemin√™ncia na busca local
- ‚úÖ **Relevance Score** - Relev√¢ncia para palavra-chave pesquisada

### Funcionalidades Profissionais
- üìä **Ranking Position Tracking** - Monitoramento preciso de posi√ß√µes
- üéØ **An√°lise Competitiva** - Compare seu neg√≥cio com concorrentes
- üìà **An√°lise Comparativa** - M√∫ltiplas palavras-chave simultaneamente
- üí° **Gap Analysis** - Identifique oportunidades de melhoria
- üèÜ **Categoriza√ß√£o Autom√°tica** - 7 n√≠veis de for√ßa (Dominante ‚Üí Muito Fraco)
- üìÅ **M√∫ltiplos Formatos** - CSV, Excel, JSON, TXT

### Relat√≥rios Detalhados
- Top 10 Rankings
- Estat√≠sticas descritivas
- Distribui√ß√£o por categoria
- An√°lise de gaps competitivos
- Insights acion√°veis
- Recomenda√ß√µes personalizadas

---

## üì¶ Instala√ß√£o

### Pr√©-requisitos
- Python 3.8 ou superior
- Conta Google Cloud Platform
- Google Maps API Key habilitada para:
  - Places API
  - Geocoding API (opcional)

### Passo 1: Clone ou baixe os arquivos

```bash
# Se usar git
git clone <reposit√≥rio>
cd gmb-ranking-analyzer

# Ou baixe e extraia os arquivos
```

### Passo 2: Instale as depend√™ncias

```bash
pip install -r requirements.txt
```

### Passo 3: Configure sua API Key

Edite o arquivo `config.yaml`:

```yaml
api:
  key: "SUA_API_KEY_AQUI"  # ‚Üê Substitua aqui
```

---

## ‚öôÔ∏è Configura√ß√£o

### Arquivo config.yaml

O arquivo de configura√ß√£o permite personalizar todos os aspectos da an√°lise:

```yaml
# Par√¢metros de busca
search:
  location: "-23.55052,-46.633308"  # Coordenadas (lat,lng)
  radius: 2000                       # Raio em metros
  keyword: "padaria"                 # Palavra-chave
  max_pages: 3                       # P√°ginas de resultados

# Pesos para c√°lculo de score (customize conforme sua estrat√©gia)
weights:
  rating_quality: 0.25
  review_velocity: 0.20
  completeness: 0.15
  authority: 0.20
  prominence: 0.10
  relevance: 0.10
```

### Obter Coordenadas

1. Acesse [Google Maps](https://maps.google.com)
2. Clique com bot√£o direito no local desejado
3. Clique em "Latitude, Longitude"
4. Copie as coordenadas (formato: `-23.55052,-46.633308`)

---

## üéÆ Uso B√°sico

### M√©todo 1: Script Principal

```python
from gmb_ranking_analyzer import GoogleMapsRankingAnalyzer, generate_reports

# Inicializa
API_KEY = "sua_chave_aqui"
analyzer = GoogleMapsRankingAnalyzer(API_KEY)

# Executa an√°lise
metrics_list, df = analyzer.run_analysis(
    location="-23.55052,-46.633308",
    radius=2000,
    keyword="padaria",
    max_pages=3
)

# Gera relat√≥rios
files = generate_reports(df, "padaria")

print(f"‚úÖ An√°lise conclu√≠da! {len(df)} perfis analisados.")
```

### M√©todo 2: Script Interativo

```bash
python example_advanced_usage.py
```

Menu interativo com op√ß√µes:
1. An√°lise √∫nica
2. An√°lise comparativa
3. An√°lise competitiva

---

## üî¨ Uso Avan√ßado

### An√°lise Competitiva

Compare seu neg√≥cio com concorrentes espec√≠ficos:

```python
from example_advanced_usage import analyze_competitor, load_config

config = load_config()

# Place IDs do seu neg√≥cio e concorrentes
target_id = "ChIJN1t_tDeuEmsRUsoyG83frY4"
competitor_ids = [
    "ChIJrTLr-GyuEmsRBfy61i59si0",
    "ChIJ-WP3K3KuEmsRi5UPW9V-CmM"
]

# Executa an√°lise
df_competitive = analyze_competitor(config, target_id, competitor_ids)
```

**Resultado:**
```
üéØ SEU NEG√ìCIO
Nome: Padaria Exemplo
Posi√ß√£o no ranking: #5
Score geral: 72.45 ‚úÖ FORTE

üí° AN√ÅLISE DE GAPS:
‚úÖ Qualidade das Avalia√ß√µes: +5.2 vs m√©dia
‚ö†Ô∏è Velocidade de Reviews: -8.5 vs melhor
‚úÖ Completude do Perfil: +12.3 vs m√©dia
```

### An√°lise de M√∫ltiplas Palavras-chave

Compare o desempenho em diferentes buscas:

```python
from example_advanced_usage import analyze_multiple_keywords

# Configure no config.yaml:
# multiple_keywords:
#   enabled: true
#   keywords:
#     - "padaria"
#     - "confeitaria"
#     - "bakery"

results = analyze_multiple_keywords(config)
```

### Customiza√ß√£o de Pesos

Ajuste os pesos conforme sua estrat√©gia:

```python
# Para priorizar avalia√ß√µes
analyzer.WEIGHTS = {
    'rating_quality': 0.35,      # ‚Üë aumentado
    'review_velocity': 0.25,     # ‚Üë aumentado
    'completeness': 0.10,        # ‚Üì reduzido
    'authority': 0.15,
    'prominence': 0.10,
    'relevance': 0.05
}
```

---

## üìä M√©tricas e Scores

### 1. Rating Quality Score (0-100)

Avalia a qualidade das avalia√ß√µes considerando:
- Nota m√©dia (0-5 estrelas)
- Volume de avalia√ß√µes
- Fator de confian√ßa (logar√≠tmico)

**F√≥rmula:**
```
Score = (Rating/5 √ó 100) √ó (0.5 + 0.5 √ó log‚ÇÅ‚ÇÄ(reviews+1)/log‚ÇÅ‚ÇÄ(500))
```

**Exemplo:**
- 4.5‚òÖ com 10 reviews ‚Üí Score: ~67
- 4.5‚òÖ com 100 reviews ‚Üí Score: ~86
- 4.5‚òÖ com 500 reviews ‚Üí Score: ~90

### 2. Review Velocity Score (0-100)

Mede a frequ√™ncia de novos reviews:

```
Score = min((total_reviews / 200) √ó 100, 100)
```

**Interpreta√ß√£o:**
- 0-25: Baixa atividade
- 26-50: Atividade moderada
- 51-75: Boa atividade
- 76-100: Excelente atividade

### 3. Completeness Score (0-100)

Avalia preenchimento do perfil:

| Campo | Peso |
|-------|------|
| Website | 20 |
| Fotos | 20 |
| Telefone | 15 |
| Endere√ßo | 15 |
| Hor√°rios | 15 |
| Status | 5 |
| Tipos | 5 |
| Pre√ßo | 5 |

**Meta:** ‚â• 80 pontos

### 4. Authority Score (0-100)

Indica credibilidade do neg√≥cio:

- **40%** Volume de reviews
- **30%** Rating consistente
- **15%** Presen√ßa web
- **15%** Conte√∫do visual

### 5. Prominence Score (0-100)

Combina posi√ß√£o e proximidade:

- **60%** Posi√ß√£o no ranking
- **40%** Proximidade geogr√°fica

### 6. Relevance Score (0-100)

Relev√¢ncia para palavra-chave:

- **50%** Palavra-chave no nome
- **30%** Tipos de neg√≥cio relevantes
- **20%** Men√ß√£o na localidade

### Overall Strength Score

Score final ponderado:

```
Overall = (Rating_Quality √ó 0.25) +
          (Review_Velocity √ó 0.20) +
          (Completeness √ó 0.15) +
          (Authority √ó 0.20) +
          (Prominence √ó 0.10) +
          (Relevance √ó 0.10)
```

**Categorias:**
- 90-100: üèÜ DOMINANTE
- 80-90: üí™ MUITO FORTE
- 70-80: ‚úÖ FORTE
- 60-70: üìä BOM
- 50-60: ‚ö†Ô∏è M√âDIO
- 40-50: üìâ FRACO
- 0-40: üö® MUITO FRACO

---

## üìÅ Relat√≥rios Gerados

### 1. CSV Completo
`ranking_analysis_{keyword}_{timestamp}.csv`

Todas as m√©tricas em formato tabular para an√°lise.

### 2. Excel Multi-abas
`ranking_analysis_{keyword}_{timestamp}.xlsx`

**Abas:**
- **An√°lise Completa** - Todos os dados
- **Top 10** - Melhores perfis
- **Estat√≠sticas** - An√°lise descritiva
- **Por Categoria** - Agrupamento por for√ßa

### 3. JSON Estruturado
`ranking_analysis_{keyword}_{timestamp}.json`

Dados estruturados para integra√ß√£o com outras ferramentas.

### 4. Relat√≥rio Resumido
`summary_report_{keyword}_{timestamp}.txt`

Resumo executivo em texto puro:
```
================================================================================
RELAT√ìRIO DE AN√ÅLISE DE RANQUEAMENTO - PADARIA
Data: 29/10/2025 14:30:00
================================================================================

Total de perfis analisados: 60

TOP 10 RANKINGS:
--------------------------------------------------------------------------------

#1 - Padaria Exemplo
   Score Geral: 87.45 üí™ MUITO FORTE
   Rating: 4.7 ‚≠ê (234 reviews)
   Dist√¢ncia: 450m
   Percentil: 95.0%

[...]
```

### 5. An√°lise Competitiva
`competitive_analysis_{keyword}.xlsx`

**Abas:**
- **Compara√ß√£o** - Seu neg√≥cio vs concorrentes
- **An√°lise de Gaps** - Oportunidades detalhadas

---

## üíº Exemplos Pr√°ticos

### Caso 1: Monitorar Posi√ß√£o Semanal

```python
# script_monitoramento_semanal.py
import schedule
import time
from gmb_ranking_analyzer import GoogleMapsRankingAnalyzer, generate_reports
from datetime import datetime

def analise_semanal():
    analyzer = GoogleMapsRankingAnalyzer("SUA_API_KEY")
    
    metrics_list, df = analyzer.run_analysis(
        location="-23.55052,-46.633308",
        radius=2000,
        keyword="padaria",
        max_pages=3
    )
    
    # Salva com timestamp
    timestamp = datetime.now().strftime("%Y%m%d")
    generate_reports(df, f"padaria_semana_{timestamp}")
    
    print(f"‚úÖ An√°lise semanal conclu√≠da: {timestamp}")

# Agenda para toda segunda √†s 9h
schedule.every().monday.at("09:00").do(analise_semanal)

while True:
    schedule.run_pending()
    time.sleep(3600)  # Verifica a cada hora
```

### Caso 2: An√°lise Multi-cidade

```python
cidades = {
    "S√£o Paulo": "-23.55052,-46.633308",
    "Rio de Janeiro": "-22.9068,-43.1729",
    "Belo Horizonte": "-19.9167,-43.9345"
}

analyzer = GoogleMapsRankingAnalyzer("SUA_API_KEY")

for cidade, coords in cidades.items():
    print(f"\nüìç Analisando: {cidade}")
    
    metrics_list, df = analyzer.run_analysis(
        location=coords,
        radius=3000,
        keyword="restaurante italiano",
        max_pages=3
    )
    
    generate_reports(df, f"restaurante_italiano_{cidade}")
```

### Caso 3: Alerta de Mudan√ßa de Posi√ß√£o

```python
import json
from pathlib import Path

def verificar_mudanca_posicao(place_id, keyword):
    """Verifica se houve mudan√ßa de posi√ß√£o"""
    
    cache_file = Path(f"cache_posicao_{place_id}.json")
    
    # An√°lise atual
    analyzer = GoogleMapsRankingAnalyzer("SUA_API_KEY")
    metrics_list, df = analyzer.run_analysis(
        location="-23.55052,-46.633308",
        radius=2000,
        keyword=keyword,
        max_pages=3
    )
    
    current_row = df[df['place_id'] == place_id]
    if current_row.empty:
        return None
    
    current_position = int(current_row.iloc[0]['rank_position'])
    
    # Compara com cache
    if cache_file.exists():
        with open(cache_file, 'r') as f:
            previous = json.load(f)
            previous_position = previous['position']
            
            delta = previous_position - current_position
            
            if delta != 0:
                direction = "‚¨ÜÔ∏è subiu" if delta > 0 else "‚¨áÔ∏è caiu"
                print(f"üö® ALERTA: Posi√ß√£o {direction} {abs(delta)} posi√ß√µes!")
                print(f"   Anterior: #{previous_position} ‚Üí Atual: #{current_position}")
                
                # Enviar notifica√ß√£o (email, SMS, Slack, etc.)
                enviar_notificacao(direction, delta, current_position)
    
    # Salva posi√ß√£o atual
    with open(cache_file, 'w') as f:
        json.dump({'position': current_position, 'date': str(datetime.now())}, f)
    
    return current_position

# Uso
verificar_mudanca_posicao("ChIJN1t_tDeuEmsRUsoyG83frY4", "padaria")
```

---

## ‚ùì FAQ

### Como obter uma API Key do Google Maps?

1. Acesse [Google Cloud Console](https://console.cloud.google.com/)
2. Crie um novo projeto
3. Ative a **Places API**
4. V√° em "Credenciais" ‚Üí "Criar Credenciais" ‚Üí "Chave de API"
5. Restrinja a chave para maior seguran√ßa

### Qual o custo da API?

- **Places API**: $17 por 1.000 requisi√ß√µes
- **Cr√©dito gr√°tis**: $200/m√™s (‚âà 11.700 buscas gr√°tis/m√™s)
- Detalhes: [Pre√ßos Google Maps](https://mapsplatform.google.com/pricing/)

### Quantos resultados posso analisar?

- Cada p√°gina retorna at√© 20 resultados
- `max_pages: 3` = at√© 60 resultados
- Total m√°ximo: 60 resultados por busca (limita√ß√£o da API)

### Como interpretar o Overall Score?

| Score | Categoria | A√ß√£o Recomendada |
|-------|-----------|------------------|
| 90-100 | üèÜ DOMINANTE | Manter lideran√ßa |
| 80-90 | üí™ MUITO FORTE | Pequenos ajustes |
| 70-80 | ‚úÖ FORTE | Otimiza√ß√µes focadas |
| 60-70 | üìä BOM | Melhorias necess√°rias |
| 50-60 | ‚ö†Ô∏è M√âDIO | A√ß√£o urgente |
| <50 | üö® FRACO | Reestrutura√ß√£o completa |

### Posso customizar os pesos?

Sim! Edite o arquivo `config.yaml`:

```yaml
weights:
  rating_quality: 0.30      # Seu peso personalizado
  review_velocity: 0.15
  completeness: 0.20
  authority: 0.20
  prominence: 0.10
  relevance: 0.05
```

### Como lidar com erros de API?

A ferramenta inclui:
- ‚úÖ Retry autom√°tico (3 tentativas)
- ‚úÖ Logging detalhado
- ‚úÖ Tratamento de exce√ß√µes
- ‚úÖ Cache de resultados

Verifique o arquivo `gmb_analyzer.log` para detalhes.

---

## üéì Casos de Uso

### 1. Ag√™ncias de Marketing Digital
- Relat√≥rios mensais para clientes
- An√°lise competitiva
- Benchmarking de mercado
- ROI de otimiza√ß√µes

### 2. Empresas Locais
- Monitoramento de posi√ß√£o
- Identifica√ß√£o de gaps
- Estrat√©gia de reviews
- Otimiza√ß√£o de perfil

### 3. Consultores SEO
- Auditoria t√©cnica
- An√°lise multi-cidade
- Compara√ß√£o com concorrentes
- Recomenda√ß√µes estrat√©gicas

### 4. Pesquisadores
- An√°lise de mercado
- Tend√™ncias locais
- Estudos competitivos
- Dados para publica√ß√µes

---

## üõ†Ô∏è Troubleshooting

### Erro: "API key not valid"
‚úÖ Verifique se a Places API est√° ativada
‚úÖ Confirme que a chave est√° correta no config.yaml
‚úÖ Verifique restri√ß√µes da chave

### Erro: "REQUEST_DENIED"
‚úÖ Ative o faturamento no Google Cloud
‚úÖ Verifique cotas e limites
‚úÖ Aguarde alguns minutos ap√≥s criar a chave

### Poucos resultados retornados
‚úÖ Aumente o `radius` no config.yaml
‚úÖ Use palavras-chave mais gen√©ricas
‚úÖ Verifique se h√° neg√≥cios na √°rea

### An√°lise muito lenta
‚úÖ Reduza `max_pages`
‚úÖ Desabilite an√°lise detalhada de reviews
‚úÖ Use cache quando poss√≠vel

---

## üìà Roadmap

Funcionalidades planejadas:

- [ ] Dashboard web interativo
- [ ] Integra√ß√£o com Google Analytics
- [ ] An√°lise de sentimento de reviews
- [ ] Predi√ß√£o de tend√™ncias
- [ ] Relat√≥rios PDF automatizados
- [ ] API REST para integra√ß√£o
- [ ] Suporte a m√∫ltiplos idiomas
- [ ] Machine Learning para recomenda√ß√µes

---

## üìÑ Licen√ßa

Este projeto √© fornecido "como est√°", sem garantias. Use por sua pr√≥pria responsabilidade.

---

## üë®‚Äçüíª Suporte

Para d√∫vidas, sugest√µes ou reportar bugs:

- üìß Email: suporte@exemplo.com
- üí¨ Issues: GitHub Issues
- üìö Documenta√ß√£o: [Wiki do projeto]

---

## üôè Agradecimentos

- Google Maps Platform
- Comunidade Python
- Contribuidores do projeto

---

**Desenvolvido com ‚ù§Ô∏è para profissionais de SEO local e Marketing Digital**

*Vers√£o 1.0.0 - Outubro 2025*
